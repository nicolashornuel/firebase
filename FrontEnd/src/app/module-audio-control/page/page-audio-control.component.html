<div class="center col">
  <section class="row">
    <fieldset>
      <legend>Analyzer SineWave</legend>
      <app-node-sine-wave [source]="gainNode" [context]="audioCtx"></app-node-sine-wave>
    </fieldset>
    <fieldset>
      <legend>Analyzer FreqBars</legend>
      <app-node-freq-bars [source]="gainNode" [context]="audioCtx"></app-node-freq-bars>
    </fieldset>

    <button (click)="onTooglePlay()" mat-mini-fab color="accent">
      <mat-icon *ngIf="isPlaying">pause</mat-icon>
      <mat-icon *ngIf="!isPlaying">play_arrow</mat-icon>
    </button>
  </section>

  <section class="row">
    <fieldset class="col-3">
      <legend>Filter</legend>
      <app-node-filter [source]="gainNode" [context]="audioCtx"></app-node-filter>
    </fieldset>

    <fieldset class="col-7 col">
      <legend>Eq</legend>
      <app-node-eq [source]="gainNode" [context]="audioCtx"></app-node-eq>
    </fieldset>
    <fieldset class="col-1 col">
      <legend>Gain</legend>
      <app-control-sliding
        min="0"
        max="1"
        step="0.1"
        format="1.1"
        [(value)]="gainNode.gain.value"
        (valueChange)="mainGainValueChange($event)"
      ></app-control-sliding>
    </fieldset>

    <fieldset class="col-1 col">
      <legend>Reverb</legend>
      <app-node-reverb [source]="gainNode" [context]="audioCtx"></app-node-reverb>
    </fieldset>
  </section>

  <audio
    #audio
    src="http://chi.bassdrive.co/;stream/1"
    preload="auto"
    controls="true"
    autoplay="true"
    style="width: 200px; height: 30px"
    crossorigin="anonymous"
  ></audio>
</div>
